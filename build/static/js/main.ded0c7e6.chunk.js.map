{"version":3,"sources":["components/Contacts.js","components/Search.js","components/NewContact.js","services/contacts.js","components/Notification.js","App.js","index.js"],"names":["Contact","contact","deleteContact","name","phone","onClick","Contacts","contacts","map","key","Search","searchFunction","onChange","NewContact","onSubmitFunction","onChangeNameFunction","onChangePhoneFunction","onSubmit","type","baseUrl","axios","get","newObject","post","id","delete","put","Notification","notification","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","error","message","style","App","useState","setContacts","newName","setNewName","newPhone","setNewPhone","searchText","setSearchText","shownContacts","setShownContacts","setNotification","useEffect","console","log","contactsService","then","response","data","filterContacts","filter","a","toLowerCase","indexOf","showNotification","setTimeout","event","text","target","value","preventDefault","foundContact","window","confirm","newContacts","item","catch","concat","status","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ded0c7e6.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Contact = ({contact, deleteContact}) =>\r\n<tr>\r\n    <td> {contact.name} </td>\r\n    <td> {contact.phone} </td>\r\n    <td><button onClick={() => deleteContact(contact)}>Delete contact</button></td>\r\n</tr>;\r\n\r\nconst Contacts = ({contacts, deleteContact})=>\r\n  <table>\r\n    <thead>\r\n      <tr>\r\n        <th>Name</th>\r\n        <th>Phone</th>\r\n        <th></th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      {contacts.map(contact => <Contact key={contact.name} contact = {contact} deleteContact={deleteContact}/>)}\r\n    </tbody>\r\n  </table>\r\n;\r\n\r\nexport default Contacts;","import React from 'react'\r\n\r\nconst Search = ({searchFunction}) =>\r\n<div>\r\n    Search: <input onChange={searchFunction}></input>\r\n</div>\r\n\r\nexport default Search;","import React from 'react'\r\n\r\nconst NewContact = ({onSubmitFunction, onChangeNameFunction, onChangePhoneFunction}) =>\r\n<form onSubmit={onSubmitFunction}>\r\n<table>\r\n  <tbody>\r\n    <tr>\r\n      <td>Name:</td>\r\n      <td><input onChange={onChangeNameFunction}/></td>\r\n    </tr>\r\n    <tr>\r\n      <td>Phone:</td>\r\n      <td><input onChange={onChangePhoneFunction}/></td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n<div>\r\n  <button type=\"submit\" >add</button>\r\n</div>\r\n</form>\r\n\r\nexport default NewContact;","\r\nimport axios from 'axios'\r\n\r\nconst baseUrl = '/api/contacts';\r\n// const baseUrl = 'http://localhost:3001/api/contacts'\r\n\r\n\r\nconst getAll = () => {\r\n    return  axios.get(baseUrl);\r\n}\r\n\r\nconst create = (newObject) => {\r\n    return axios.post(baseUrl, newObject);\r\n}\r\n\r\nconst del = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`);\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nexport default {getAll, create, del, update};","import React from 'react'\r\n\r\n\r\nconst Notification = ({ notification }) => {\r\n\r\n    const notificationStyle = {\r\n        color: 'red',\r\n        background: '#ffef96',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10, \r\n        marginBottom: 10\r\n    }\r\n\r\n    if (!notification.error){\r\n        notificationStyle.color = '#50394c';\r\n    }\r\n\r\n    if (notification.message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={notificationStyle}>\r\n        {notification.message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification;","import React, { useState, useEffect } from 'react'\nimport Contacts from './components/Contacts'\nimport Search from './components/Search'\nimport NewContact from './components/NewContact'\nimport contactsService from './services/contacts'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n  const [ contacts, setContacts] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ newPhone, setNewPhone ] = useState('');\n\n  const [searchText, setSearchText] = useState('');\n  const [shownContacts, setShownContacts] = useState(contacts);\n  const [notification, setNotification] = useState({message:null, error: false});\n\n  useEffect(() => {\n    console.log('effect');\n    \n    contactsService.getAll()\n      .then(response => {\n        setContacts(response.data);\n        setShownContacts(response.data);\n        console.log(response.data);\n      })\n    \n  }, []);\n\n  const setNameFromInput = event => setNewName(event.target.value);\n  const setPhoneFromInput = event => setNewPhone(event.target.value);\n\n  const filterContacts = (contacts, searchText) => \n      contacts.filter(a => \n        a.name.toLowerCase().indexOf(searchText.toLowerCase())>-1\n      );\n\n  const searchInContacts = event => {\n    const text = event.target.value;\n    setSearchText(text);\n    setShownContacts(filterContacts(contacts, text));\n  }\n\n  const showNotification = (message, error) => {\n    setNotification(\n      {message, error}\n    );\n    setTimeout(() => {\n      setNotification({message: null, error: false})\n    }, 5000);\n  }\n\n  const addContact = event => {\n    event.preventDefault();\n\n    const foundContacts = contacts.filter(a => a.name === newName);\n    const foundContact=foundContacts[0];\n\n\n    if (!foundContact){\n      contactsService.create({name:newName, phone: newPhone})\n      .then( response => \n        {\n          const newContacts = contacts.concat(response.data);\n          setContacts(newContacts);\n          setShownContacts(filterContacts(newContacts, searchText));\n          return response;\n        })\n      .then( response => {\n        const message = `${response.data.name} added to contact list`;\n        showNotification(message, false);\n        return response;\n      })\n      .catch( error => {\n        console.error(error.response.data.message);\n        showNotification(error.response.data.message, true);\n      });\n      return;\n    } \n\n    if (window.confirm(`Change contact ${newName}?`)) { \n      contactsService.update(\n        foundContact.id,\n        {...foundContact, phone:newPhone}\n      )\n      .then( response => \n        {\n          console.log(\"front-response:\",response);\n          const newContacts = contacts.map(item => item.id !== response.data.id? item:response.data);\n          setContacts(newContacts);\n          setShownContacts(filterContacts(newContacts, searchText));\n          return response;\n        })\n      .then( response => {\n        const message = `${response.data.name} modified in contact list`;\n        showNotification(message, false);\n        return response;\n      })\n      .catch( error => {\n        console.error(error.response.data.message);\n        showNotification(error.response.data.message, true);\n      });\n    }\n  \n  }\n\n  const deleteContact = (contact) => {\n    if (window.confirm(`Delete ${contact.name}?`)) { \n      console.log(contact);\n\n      contactsService.del(contact.id)\n      .then( (response) => \n        {\n          if (response.status === 200){\n            contactsService.getAll()\n            .then(response => {\n              setContacts(response.data);\n              setShownContacts(filterContacts(response.data, searchText));\n              const message = `${contact.name} deleted from contact list`;\n              showNotification(message, false);\n            })\n          } else {\n            const message = `Could not delete ${contact.name} from contact list, it may have already been deleted.`;\n            showNotification(message, true);\n          }\n        })\n      .catch( error => {\n        const message = `Could not delete ${contact.name} from contact list, it may have already been deleted. ${error.message} `;\n        showNotification(message, true);\n      });\n     \n    }\n  }\n\n  return (\n    <div>\n      <Notification notification={notification}/>\n      <h1>Phonebook</h1>\n      <Search searchFunction = {searchInContacts}/>\n\n      <h3>New Contact</h3>\n      <NewContact onSubmitFunction={addContact} onChangeNameFunction={setNameFromInput} onChangePhoneFunction={setPhoneFromInput}/>\n\n      <h3>Contacts</h3>\n      <Contacts contacts={shownContacts} deleteContact={deleteContact}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}